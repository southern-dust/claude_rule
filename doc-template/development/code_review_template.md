# 代码审查报告

**审查日期**: YYYY-MM-DD
**审查者**: [姓名]
**被审查者**: [姓名]
**分支/PR**: #[PR编号] - [PR标题]
**审查时长**: X小时Y分钟

---

## 审查概览

### 基本信息

- **代码范围**: X个文件，Y行新增，Z行删除
- **审查类型**: 完整审查 / 部分审查 / 快速审查
- **审查结果**: ✅ 通过 / 🔄 需修改 / ❌ 拒绝 / 💡 建议

### 审查重点

本次审查重点关注：

- [ ] 功能正确性
- [ ] 代码质量
- [ ] 性能影响
- [ ] 安全性
- [ ] 测试覆盖
- [ ] 文档完整性
- [ ] 错误处理

---

## 主要发现

### ✅ 做得好的地方

1. **优点1**: 具体描述哪里做得好
   - 示例：代码结构清晰，函数职责单一

2. **优点2**: 具体描述
   - 详细的说明

3. **优点3**: 具体描述
   - 详细的说明

### ⚠️ 需要改进的地方

#### 1. [问题类型] - [问题描述]

- **严重程度**: 🔴 严重 / 🟡 中等 / 🟢 轻微
- **位置**: [文件名:行号范围]
- **问题描述**:
  ```python
  # 问题代码
  def example():
      problematic_code()
  ```

- **为什么是问题**: 解释为什么这里需要改进

- **建议修改**:
  ```python
  # 建议的代码
  def example():
      improved_code()
  ```

- **理由**: 解释为什么这样改更好

#### 2. [问题类型] - [问题描述]
...

### 💡 可选建议

这些建议不是必须的，但考虑后可能提升代码质量：

1. **建议1**: 描述和建议
2. **建议2**: 描述和建议

---

## 详细审查

### 文件1: [文件名]

#### 功能正确性

- ✅ 功能实现符合需求
- ⚠️ 潜在问题：描述

#### 代码质量

- **命名**: ✅/❌ 变量/函数命名清晰
- **结构**: ✅/❌ 代码组织良好
- **复杂度**: ✅/❌ 逻辑清晰，不过度复杂
- **重复**: ✅/❌ 没有重复代码

#### 性能

- ✅ 没有明显的性能问题
- ⚠️ 潜在性能问题：
  - 问题描述
  - 优化建议

#### 安全

- ✅ 没有安全风险
- 🔴 安全问题：
  - 问题描述
  - 修复建议

#### 错误处理

- ✅ 错误处理充分
- ⚠️ 需要改进：
  - 描述
  - 建议

#### 测试

- ✅ 有充分的测试覆盖
- ⚠️ 测试不足：
  - 缺失的测试场景
  - 建议添加的测试

#### 文档

- ✅ 有清晰的文档字符串
- ⚠️ 文档需要补充：
  - 缺失的文档
  - 改进建议

### 文件2: [文件名]
...

---

## 审查清单

### 功能性

- [ ] 代码实现了PR描述的功能
- [ ] 边界情况得到处理
- [ ] 没有明显的逻辑错误
- [ ] 算法选择合理

### 代码质量

- [ ] 遵循项目编码规范（见 [编码规范]($PROJECT_ROOT/.claude/project-guideline/coding_standards.md)）
- [ ] 命名清晰且一致
- [ ] 函数/方法职责单一
- [ ] 避免代码重复
- [ ] 使用适当的数据结构

### 可读性

- [ ] 代码自解释，注释解释"为什么"而非"是什么"
- [ ] 复杂逻辑有注释说明
- [ ] 没有注释掉的代码
- [ ] 没有无用的调试代码

### 错误处理

- [ ] 所有可能的错误情况都被处理
- [ ] 错误信息清晰有用
- [ ] 不会在错误情况下崩溃

### 性能

- [ ] 没有不必要的计算或I/O
- [ ] 使用适当的数据结构（时间/空间复杂度）
- [ ] 没有内存泄漏
- [ ] 数据库查询优化

### 安全

- [ ] 输入验证
- [ ] 没有SQL注入/XSS等漏洞
- [ ] 敏感数据处理得当
- [ ] 权限检查正确

### 测试

- [ ] 有单元测试
- [ ] 测试覆盖正常和异常情况
- [ ] 测试可以独立运行
- [ ] 测试命名清晰

### 文档

- [ ] 公共API有文档字符串
- [ ] 复杂逻辑有注释
- [ ] README/相关文档已更新
- [ ] CHANGELOG已更新（如需要）

---

## 架构与设计

### 设计模式

- ✅ 使用了合适的设计模式
- ⚠️ 设计问题：
  - 描述
  - 建议

### 模块耦合

- ✅ 模块间耦合度合理
- ⚠️ 耦合问题：
  - 描述
  - 建议解耦方式

### 可扩展性

- ✅ 代码易于扩展
- ⚠️ 扩展性考虑：
  - 描述
  - 建议

---

## 性能分析

### 时间复杂度

| 函数/方法 | 当前复杂度 | 建议 | 影响 |
|-----------|------------|------|------|
| func1 | O(n²) | O(n log n) | 中 |
| func2 | O(n) | - | 低 |

### 空间复杂度

分析内存使用情况

### 潜在瓶颈

- 瓶颈1: 描述和建议
- 瓶颈2: 描述和建议

---

## 安全审查

### 输入验证

- [ ] 所有用户输入都经过验证
- [ ] 文件路径安全检查
- [ ] API参数验证

### 数据安全

- [ ] 敏感数据加密
- [ ] 没有硬编码的密钥/密码
- [ ] 遵循最小权限原则

### 依赖安全

- [ ] 使用的依赖库是安全的
- [ ] 依赖版本没有已知漏洞

---

## 测试审查

### 测试覆盖

| 文件 | 语句覆盖 | 分支覆盖 | 状态 |
|------|----------|----------|------|
| file1.py | 85% | 75% | ✅ |
| file2.py | 60% | 50% | ⚠️ |

### 测试质量

- ✅ 测试用例完整
- ⚠️ 缺失的测试场景：
  - 场景1
  - 场景2

### 测试代码质量

- ✅ 测试代码清晰
- ⚠️ 测试代码需要改进：
  - 描述
  - 建议

---

## 总结与评价

### 总体评价

对整体代码质量的综合评价：

- **代码质量**: 优秀 / 良好 / 一般 / 需改进
- **功能完整性**: 完整 / 基本完整 / 不完整
- **测试覆盖**: 充分 / 基本充分 / 不足
- **文档质量**: 优秀 / 良好 / 一般 / 需改进

### 主要优点总结

1. 优点1
2. 优点2
3. 优点3

### 主要问题总结

1. 问题1（必须修复）
2. 问题2（必须修复）
3. 问题3（建议修复）

### 最终决定

- [ ] **批准**: 可以合并
- [ ] **有条件批准**: 修复关键问题后可以合并
- [ ] **需修改**: 需要修改后重新审查
- [ ] **拒绝**: 不建议合并

---

## 后续行动

### 必须修复（阻塞合并）

| # | 问题 | 负责人 | 截止日期 | 状态 |
|---|------|--------|----------|------|
| 1 | [问题描述] | [姓名] | YYYY-MM-DD | 🔄 进行中 |

### 建议修复（不阻塞）

| # | 问题 | 优先级 | 负责人 |
|---|------|--------|--------|
| 1 | [问题描述] | 高/中/低 | [姓名] |

### 未来改进建议

不在本次PR范围内，但值得考虑的改进：

1. 改进1
2. 改进2

---

## 审查者备注

补充说明、鼓励或其他想法：

```
[你的留言]

对被审查者的鼓励或建议...
```

---

## 相关链接

- **Pull Request**: [链接]
- **相关Issue**: #[number]
- **设计文档**: [链接]
- **编码规范**: [$PROJECT_ROOT/.claude/project-guideline/coding_standards.md]($PROJECT_ROOT/.claude/project-guideline/coding_standards.md)

---

**审查状态**: ✅ 完成
**下次跟进**: YYYY-MM-DD
**报告版本**: v1.0
